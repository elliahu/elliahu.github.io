<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Realistic atmosphere rendering | Matej Elias</title>
<meta name=keywords content="vulkan,c++"><meta name=description content="Physically-based atmosphere render with multiple scattering, aerial perspective, volumetric clouds and god rays"><meta name=author content="Matej Elias"><link rel=canonical href=http://localhost:1313/projects/atmosphere/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/projects/atmosphere/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/projects/atmosphere/"><meta property="og:site_name" content="Matej Elias"><meta property="og:title" content="Realistic atmosphere rendering"><meta property="og:description" content="Physically-based atmosphere render with multiple scattering, aerial perspective, volumetric clouds and god rays"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="projects"><meta property="article:tag" content="Vulkan"><meta property="article:tag" content="C++"><meta property="og:image" content="http://localhost:1313/hero.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/hero.png"><meta name=twitter:title content="Realistic atmosphere rendering"><meta name=twitter:description content="Physically-based atmosphere render with multiple scattering, aerial perspective, volumetric clouds and god rays"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"http://localhost:1313/projects/"},{"@type":"ListItem","position":2,"name":"Realistic atmosphere rendering","item":"http://localhost:1313/projects/atmosphere/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Realistic atmosphere rendering","name":"Realistic atmosphere rendering","description":"Physically-based atmosphere render with multiple scattering, aerial perspective, volumetric clouds and god rays","keywords":["vulkan","c++"],"articleBody":"About this project This is an implementation of a complete atmospheric model and renderer with support of multiple scattering approximation that gives the sky its specific sky-blue color, sun transmittance, aerial-perspective, soft shadows, dynamic time of day, dynamic volumetric clouds with variable sizes, types and coverage and screen space god rays approximation. All that and more running under 1.5 ms on RTX 4080. This code is a part of my masters thesis called ‘Realistic atmosphere rendering’.\nSource code can be found on my github.\nPerformance RTX 2060 RTX 3060 RTX 4080 Clouds 3.421 ms 3.008 ms 0.755 ms Transmittance LUT 0.141 ms 0.127 ms 0.034 ms Multiple scattering LUT 0.414 ms 0.371 ms 0.259 ms Sky View LUT 0.026 ms 0.024 ms 0.010 ms Aerial perspective LUT 0.095 ms 0.097 ms 0.080 ms Occlusion mask 0.631 ms 0.615 ms 0.161 ms Radial blur 0.154 ms 0.150 ms 0.040 ms Sky View LUT up-sample 0.081 ms 0.076 ms 0.020 ms Composition 0.174 ms 0.128 ms 0.032 ms Postprocessing 0.069 ms 0.069 ms 0.017 ms Total frame (with terrain) 6.438 ms 5.758 ms 1.773 ms Gallery References The Real-time Volumetric Cloudscapes of Horizon Zero Dawn Physically Based Sky, Atmosphere and Cloud Rendering in Frostbite Nubis: Authoring Real-Time Volumetric Cloudscapes with the Decima Engine A Scalable and Production Ready Sky and Atmosphere Rendering Technique Volumetric Light Scattering as a Post-Process ","wordCount":"227","inLanguage":"en","image":"http://localhost:1313/hero.png","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Matej Elias"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/projects/atmosphere/"},"publisher":{"@type":"Organization","name":"Matej Elias","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Matej Elias (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Matej Elias</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/projects/ title=Projects><span>Projects</span></a></li><li><a href=http://localhost:1313/about title="About me"><span>About me</span></a></li><li><a href=http://localhost:1313/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/projects/>Projects</a></div><h1 class="post-title entry-hint-parent">Realistic atmosphere rendering</h1><div class=post-description>Physically-based atmosphere render with multiple scattering, aerial perspective, volumetric clouds and god rays</div><div class=post-meta>227 words&nbsp;·&nbsp;Matej Elias&nbsp;|&nbsp;<a href=https://github.com/elliahu/atmosphere rel="noopener noreferrer" target=_blank>Source code</a></div></header><figure class=entry-cover><img loading=eager srcset='http://localhost:1313/projects/atmosphere/hero_hu_239b128ca72b6407.png 360w,http://localhost:1313/projects/atmosphere/hero_hu_e37c85ee6de302f3.png 480w,http://localhost:1313/projects/atmosphere/hero_hu_aa40cb5e8f8f94dc.png 720w,http://localhost:1313/projects/atmosphere/hero_hu_4dab3a87d161859b.png 1080w,http://localhost:1313/projects/atmosphere/hero_hu_476514a297a19ea3.png 1500w,http://localhost:1313/projects/atmosphere/hero.png 1910w' src=http://localhost:1313/projects/atmosphere/hero.png sizes="(min-width: 768px) 720px, 100vw" width=1910 height=1047 alt="Obtained results"></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#about-this-project aria-label="About this project">About this project</a></li><li><a href=#performance aria-label=Performance>Performance</a></li><li><a href=#gallery aria-label=Gallery>Gallery</a></li><li><a href=#references aria-label=References>References</a></li></ul></div></details></div><div class=post-content><h2 id=about-this-project>About this project<a hidden class=anchor aria-hidden=true href=#about-this-project>#</a></h2><p>This is an implementation of a complete atmospheric model and renderer with support of multiple scattering approximation that gives the sky its specific sky-blue color, sun transmittance, aerial-perspective, soft shadows, dynamic time of day, dynamic volumetric clouds with variable sizes, types and coverage and screen space god rays approximation. All that and more <strong>running under 1.5 ms</strong> on RTX 4080. This code is a part of my masters thesis called &lsquo;Realistic atmosphere rendering&rsquo;.</p><p><a href=https://github.com/elliahu/atmosphere>Source code</a> can be found on my github.</p><h2 id=performance>Performance<a hidden class=anchor aria-hidden=true href=#performance>#</a></h2><table><thead><tr><th></th><th>RTX 2060</th><th>RTX 3060</th><th><strong>RTX 4080</strong></th></tr></thead><tbody><tr><td>Clouds</td><td>3.421 ms</td><td>3.008 ms</td><td><strong>0.755 ms</strong></td></tr><tr><td>Transmittance LUT</td><td>0.141 ms</td><td>0.127 ms</td><td><strong>0.034 ms</strong></td></tr><tr><td>Multiple scattering LUT</td><td>0.414 ms</td><td>0.371 ms</td><td><strong>0.259 ms</strong></td></tr><tr><td>Sky View LUT</td><td>0.026 ms</td><td>0.024 ms</td><td><strong>0.010 ms</strong></td></tr><tr><td>Aerial perspective LUT</td><td>0.095 ms</td><td>0.097 ms</td><td><strong>0.080 ms</strong></td></tr><tr><td>Occlusion mask</td><td>0.631 ms</td><td>0.615 ms</td><td><strong>0.161 ms</strong></td></tr><tr><td>Radial blur</td><td>0.154 ms</td><td>0.150 ms</td><td><strong>0.040 ms</strong></td></tr><tr><td>Sky View LUT up-sample</td><td>0.081 ms</td><td>0.076 ms</td><td><strong>0.020 ms</strong></td></tr><tr><td>Composition</td><td>0.174 ms</td><td>0.128 ms</td><td><strong>0.032 ms</strong></td></tr><tr><td>Postprocessing</td><td>0.069 ms</td><td>0.069 ms</td><td><strong>0.017 ms</strong></td></tr><tr><td><strong>Total frame (with terrain)</strong></td><td>6.438 ms</td><td>5.758 ms</td><td><strong>1.773 ms</strong></td></tr></tbody></table><h2 id=gallery>Gallery<a hidden class=anchor aria-hidden=true href=#gallery>#</a></h2><p><img alt=One loading=lazy src=/projects/atmosphere/polojasno.png>
<img alt=Two loading=lazy src=/projects/atmosphere/lightshafts_on.png>
<img alt=Three loading=lazy src=/projects/atmosphere/aerial_perspective.png>
<img alt=Four loading=lazy src=/projects/atmosphere/lighthafts_result.png>
<img alt=Five loading=lazy src=/projects/atmosphere/covered_sky.png></p><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><a href=https://advances.realtimerendering.com/s2015/The%20Real-time%20Volumetric%20Cloudscapes%20of%20Horizon%20-%20Zero%20Dawn%20-%20ARTR.pdf>The Real-time Volumetric Cloudscapes of Horizon Zero Dawn</a></li><li><a href=https://media.contentapi.ea.com/content/dam/eacom/frostbite/files/s2016-pbs-frostbite-sky-clouds-new.pdf>Physically Based Sky, Atmosphere and Cloud Rendering in Frostbite</a></li><li><a href="https://drive.google.com/file/d/0B-D275g6LH7LOE1RcVFERGpkS28/view?resourcekey=0-P04mYcVQ1lDPdn7FDunEIw">Nubis: Authoring Real-Time Volumetric Cloudscapes with the Decima Engine</a></li><li><a href=https://sebh.github.io/publications/egsr2020.pdf>A Scalable and Production Ready Sky and Atmosphere Rendering Technique</a></li><li><a href=https://developer.nvidia.com/gpugems/gpugems3/part-ii-light-and-shadows/chapter-13-volumetric-light-scattering-post-process>Volumetric Light Scattering as a Post-Process</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/vulkan/>Vulkan</a></li><li><a href=http://localhost:1313/tags/c++/>C++</a></li></ul><nav class=paginav><a class=next href=http://localhost:1313/projects/hammock/><span class=title>Next »</span><br><span>Hammock - Vulkan graphics engine</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Matej Elias</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>